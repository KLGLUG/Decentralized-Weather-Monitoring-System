# Decentralized-Weather-Monitoring-System
In this project we are building a mobile application for Decentralized weather monitoring system, temperature, humidity and smoke levels are the three chosen parameters to define the atmosphere in any given area. The sensors used to measure these parameters are DHT 11 which monitors humidity and temperature and MQ2 which monitors the level of smoke in the area. These sensors are less costly with wide coverage area. DHT 11 is a digital sensor and MQ2 is an analog sensor. These sensors are connected to ESP8266, a wifi module. ESP 8266 is capable of reading both digital and analog data. It connects to the wifi network specified and sends the data to the server. The protocol used to send the data over the wifi network is MQTT. Node MCU acts as an MQTT client and it sends the data to the MQTT server. As DHT 11 is a digital sensor, libraries need to be imported to deal with the digital data. The data collected through the sensors is sent over the MQTT broker is redirected to a MySQL database in the server. It is a continuous process of sending the data, so the database must support concurrent access of read and write without synchronization problems. MySQL is one such database management system ensuring concurrent access to data. The database also consists of another table with four columns maintaining the data of username, password, type of the user and location of the user. This data is used by the app for authentication purpose. 
A java server page (JSP) in the server reads the data from the database upon request. It displays the data of last ten (user specified. Default is ten) values in the database. It calls the graph displaying module with this data as parameters. A graph is generated in the same JSP. This process occurs with the call for JSP with the credentials of location, parameter to be displayed or monitored.
The application when initialized, intakes the login credentials of the user. It searches for the match with the data in the database. It then fetches the data of location and type of the user on successful login. If the user is of administrator type, it displays the locations the user has access to, along with the parameters to be monitored. Upon selection of the location and parameter, a request is sent to the server to call a JSP. The JSP fetches the data of location and parameter from the request URL. Based upon the location and parameter, it fetches the recent data from database and generates a graph, which is sent as a response to the app. If the user is of general type, he is shown the parameters that he can monitor and the data or the graph he gets in response belongs to his own registered location. A user with general privileges doesn’t have access to the data of locations other than his registered location. 
A threshold value is set for each parameter, which is the highest acceptable value, upon exceeding which, measures have to be taken to control. A java program continuously monitors the data in the database and whenever it encounters a value more than threshold, it sends a request to the firebase (A module in android application development) with the arguments as name of the parameter and data of the parameter. The firebase module sends notification to the user that a particular parameter has exceeded threshold. User can also set the gap between each notification, which reduces the number of notifications to be sent, as the value once exceeds the threshold, it keeps exceeding until some measure is taken to control it. If this time isn’t set, the app continuously sends the notifications, disturbing the user. 
